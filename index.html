<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

<style>
body {
    background-color: white;
    font-family: 'Arial', sans-serif;
}

table {
    width: 100%;
    max-width: 600px;
    margin: 20px auto;
    padding: 20px;
    background-color: #e5e8eb;
    box-shadow: 3px 4px 8px rgba(0, 0, 0, 0.7);
    border-radius: 10px;
    box-sizing: border-box;
    border-collapse: collapse;
}

td {
    padding: 12px 15px 12px 10px; /* Más espacio en el lado derecho */
    box-sizing: border-box;
    vertical-align: middle; /* Centra el contenido verticalmente */
    text-align: left; /* Alineación de texto a la izquierda */
}

input, select {
    width: calc(100% - 12px); /* Ajusta el ancho para considerar el espacio adicional */
    padding: 12px;
    margin: 5px 0;
    border: 1px solid #ccc;
    border-radius: 5px; /* Valor asignado para un borde redondeado */
    box-sizing: border-box;
}


button {
    width: 48%;
    padding: 10px;
    background-color: #007BFF;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    margin: 0.5%;
    transition: background-color 0.3s, transform 0.2s;
}

button:hover {
    background-color: #0056b3;
    transform: translateY(-2px);
}

button.success {
    background-color: #28a745;
}

button.success:hover {
    background-color: #218838;
}

button.add-loot {
    background-color: #28a745;
    color: white;
    border: none;
    padding: 9px;
    margin: 9px 0;
    margin-bottom: -20px;
    margin-left: 1px;
    border-radius: 5px;
    cursor: pointer;
    width: 98%;
    text-align: center;
    transition: background-color 0.3s, transform 0.2s; /* Se añade la animación */
}

button.add-loot:hover {
    background-color: #218838;
    transform: translateY(-2px); /* Mismo efecto que en los otros botones */
}

pre {
    background-color: #f8f9fa;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    box-shadow: 3px 4px 8px rgba(0, 0, 0, 0.7);
    white-space: pre-wrap;
    word-wrap: break-word;
    overflow-x: auto;
    max-width: 580px;
    margin: auto;
    margin-top: 12px;
}

.tooltip {
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background-color: #333;
    color: #fff;
    padding: 8px;
    border-radius: 5px;
    white-space: nowrap;
    display: none;
    font-size: 14px;
    z-index: 10;
    width: 250px;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
    text-align: center;
}

td:hover .tooltip {
    display: block;
}

.question-mark {
    cursor: pointer;
    font-weight: bold;
    color: #007BFF;
    margin-left: 5px;
    position: relative;
}

.position-group {
    display: flex;
    gap: 10px;
}

.loot-list {
    margin-top: 10px;
    margin-right: 9px;
    border-top: 1px solid #ced4da;
    padding-top: 10px;
}

.loot-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 5px;
    padding-right: 10px;
    background-color: #f1f1f1;
    border-radius: 5px;
    margin-bottom: 5px;
    margin-left: 1px;
}

.remove-loot {
    background: none;
    border: none;
    font-size: 1.2em;
    color: #ff0000;
    cursor: pointer;
}

button.add-loot {
    background-color: #28a745;
    color: white;
    border: none;
    padding: 9px;
    margin: 9px 0;
    margin-bottom: -20px;
    margin-left: 1px;
    border-radius: 5px;
    cursor: pointer;
    width: 98%;
    text-align: center;
    transition: background-color 0.3s;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    20%, 60% { transform: translateX(-10px); }
    40%, 80% { transform: translateX(10px); }
}

@keyframes smooth-shake {
    0%, 100% { transform: translate(-50%, -50%); }
    20%, 60% { transform: translate(-52%, -50%); }
    40%, 80% { transform: translate(-48%, -50%); }
}

@keyframes fade-in-slide-down {
    0% {
        opacity: 0;
        transform: translate(-50%, -60%);
    }
    100% {
        opacity: 1;
        transform: translate(-50%, -50%);
    }
}

.alert {
    position: fixed;
    top: 16%; /* Centrado vertical */
    left: 50%; /* Centrado horizontal */
    transform: translate(-50%, -50%); /* Ajuste para centrar el contenedor */
    z-index: 9999;
    background-color: #ffdddd;
    color: #d8000c;
    border: 1px solid #d8000c;
    border-radius: 8px;
    padding: 1em 2em;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.5s ease, visibility 0.5s, transform 0.5s ease;
}

.alert.show {
    opacity: 1;
    visibility: visible;
    animation: fade-in-slide-down 0.5s ease forwards, smooth-shake 0.8s ease;
}

.alert.hide {
    opacity: 0;
    visibility: hidden;
    transform: translate(-50%, -60%);
}
.menu {
    position: sticky;
    top: 0;
    z-index: 1000;
    max-width: 600px;
    margin: auto;
    background-color: #495057;
    padding: 10px 0;
    box-shadow: 3px 4px 8px rgba(0, 0, 0, 0.7);
    margin-bottom: 20px;
    border-radius: 5px;
}

.menu ul {
    display: flex;
    justify-content: space-between;
    align-items: center;
    list-style: none;
    padding: 0;
    margin: 0;
    overflow: hidden;
    flex-wrap: wrap; /* Permitir que los elementos se envuelvan en líneas nuevas si es necesario */
}

.menu ul li {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 5px 0;
}

.menu ul li a,
.menu ul li button {
    color: white;
    text-decoration: none;
    background: none;
    border: none;
    cursor: pointer;
    font-size: 16px;
    padding: 10px 20px;
    border-radius: 5px;
    transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.2s ease;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    text-align: center;
    margin: 4px;
    margin-top: 0;
    margin-bottom: 0;
}

.menu ul li a:hover,
.menu ul li button:hover {
    background-color: #17a2b8;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.menu ul li i {
    margin-right: 13px;
    font-size: 20px; /* Aumenta el tamaño del ícono */
}

.menu-icon {
    display: none; /* Oculta el ícono por defecto */
}

@media (max-width: 600px) {
    .menu {
        max-width: 100%;
        padding: 0;
        background-color: #333;
        box-shadow: 3px 4px 8px rgba(0, 0, 0, 0.7);
        border-radius: 5px;
    }

    .menu-icon {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px;
        color: white;
        background-color: #495057;
        font-size: 20px;
        cursor: pointer;
        user-select: none;
        border-radius: 7px;
    }

    .menu ul.menu-list {
        display: none; /* Ocultamos el menú inicialmente */
        flex-direction: column;
        background-color: #495057;
        margin: 0;
        padding: 10px 0;
    }

    .menu ul.menu-list li {
        width: 100%;
        text-align: center;
        margin: 0;
        padding: 10px 0;
        border-top: 1px solid #444;
    }

    .menu ul.menu-list li:first-child {
        border-top: none;
    }

    .menu ul.menu-list li a,
    .menu ul.menu-list li button {
        font-size: 16px;
        padding: 15px;
        color: white;
        background-color: transparent;
        border: none;
        cursor: pointer;
        width: 100%;
        text-align: center;
    }

    .menu ul.menu-list li a:hover,
    .menu ul.menu-list li button:hover {
        background-color: #17a2b8;
        color: white;
    }

    .menu.show .menu-list {
        display: flex; /* Mostrar el menú cuando esté activo */
    }
}
</style>
</head>
<body>
<nav class="menu">
    <div class="menu-icon" onclick="toggleMobileMenu()">☰ Menú</div>
    <ul class="menu-list">
        <li><button id="IdiomaText" onclick="toggleLanguage()"><i class="bi bi-translate"></i> Cambiar Idioma</button></li>
        <li><a href="https://discord.com/users/sebasofeek" target="_blank"><i class="bi bi-discord"></i> Discord</a></li>
        <li><a href="https://twitter.com" target="_blank"><i class="bi bi-twitter"></i> X</a></li>
        <li><button id="RefreshText" onclick="resetFields()"><i class="bi bi-arrow-clockwise"></i> Refrescar Casillas</button></li>
    </ul>
</nav>
    <div id="alertContainer" class="alert"></div>
    <table>
        <tr>
            <td id="TypeMobText">Tipo de Mob:</td>
            <td>
                <select id="mobType" onchange="updateMobOptions()">
                    <option value="">--Seleccionar--</option>
                    <option value="zombie">Zombie</option>
                    <option value="spawnskin">Spawnskin</option>
                    <option value="skeleton">Skeleton</option>
                    <option value="creeper">Creeper</option>
                    <option value="spider">Spider</option>
                    <option value="enderman">Enderman</option>
                    <option value="blaze">Blaze</option>
                    <option value="ghast">Ghast</option>
                    <option value="magmacube">Magma Cube</option>
                    <option value="slime">Slime</option>
                    <option value="enderdragon">Ender Dragon</option>
                    <option value="nethereye">Nethereye</option>
                    <option value="cow">Cow</option>
                    <option value="sheep">Sheep</option>
                    <option value="mooshroom">Mooshroom</option>
                    <option value="pig">Pig</option>
                    <option value="squid">Squid</option>
                    <option value="bat">Bat</option>
                    <option value="chicken">Chicken</option>
                    <option value="rabbit">Rabbit</option>
                    <option value="wolf">Wolf</option>
                    <option value="pigman">Zombie Pigman</option>
                    <option value="snowgolem">Snow Golem</option>
                    <option value="cowctus">Cactus Cow</option>
                </select>
            </td>
        </tr>
        <tr>
            <td id="QuantityText">Cantidad:</td>
            <td><input type="number" id="quantity" max="20"></td>
        </tr>
        <tr>
            <td id="PositionText">Posición:</td>
            <td>
                <select id="positionType" onchange="updatePositionFields()">
                    <option value="">--Seleccionar--</option>
                    <option value="relative">Relativa</option>
                    <option value="absolute">Absoluta</option>
                </select>
            </td>
        </tr>
        <tr class="relative-pos position-group" style="display:none;">
            <td id="PositionRelText">Posición Relativa:</td>
            <td>
                <input type="number" id="posX" placeholder="Pos~X" style="width: 45%; display: inline-block; margin-right: 5%;">
                <input type="number" id="posY" placeholder="Pos~Y" style="width: 45%; display: inline-block;">
            </td>
        </tr>
        <tr class="absolute-pos position-group" style="display:none;">
            <td id="PositionAbsText">Posición Absoluta:</td>
            <td>
                <input type="number" id="absPosX" placeholder="Pos X" style="width: 45%; display: inline-block; margin-right: 5%;">
                <input type="number" id="absPosY" placeholder="Pos Y" style="width: 45%; display: inline-block;">
            </td>
        </tr>
        <tr>
            <td id="NameText">Nombre:</td>
            <td><input type="text" id="name"></td>
        </tr>
        <tr>
            <td id="HealthText">Salud:</td>
            <td><input type="number" id="health" min="1"></td>
        </tr>
        <tr id="handItemRow" style="display: none;">
            <td id="ItemHandText">Item en mano:</td>
            <td>
               <select id="holding">
                   <option value="">--Seleccionar--</option>
                   <option value="stairs_wooden_planks">Wooden Planks Stairs</option>
                   <option value="pressure_plate_wooden">Wooden Pressure Plate</option>
                   <option value="wooden_shovel">Wooden Shovel</option>
                   <option value="wooden_sword">Wooden Sword</option>
                   <option value="wool">Wool</option>
                   <option value="backdrop_wool">Wool Backdrop</option>
                   <option value="yellow_flower">Yellow Flower</option>
                </select>
            </td>  
        </tr>
        <tr id="armorRow" style="display: none;">
            <td id="ArmorText">Armadura:</td>
            <td><input type="text" id="armor" placeholder="Proximamente Disponible..." disabled></td>
        </tr>
        <tr id="defaultDropsRow">
            <td id="DropDText">Drops por defecto:</td>
            <td>
                <select id="defaultDrops">
                    <option value="">--Seleccionar--</option>
                    <option value="true">Sí</option>
                    <option value="false">No</option>
                </select>
            </td>
        </tr>
        <tr id="creeperChargedRow" style="display: none;">
            <td id="CreeperCharText">Creeper Cargado:</td>
            <td>
                <select id="charged">
                    <option value="">--Seleccionar--</option>
                    <option value="1">Sí</option>
                    <option value="0">No</option>
                </select>
            </td>
        </tr>
        <tr id="spawnskinOptions" style="display: none;">
            <td id="IDText">ID de la Skin:</td>
            <td><input type="text" id="skin"></td>
        </tr>
        <tr id="aggroRow" style="display: none;">
            <td id="AggroText">Hostilidad:</td>
            <td>
                <select id="aggro">
                    <option value="">--Seleccionar--</option>
                    <option value="hostile">Hostile</option>
                    <option value="neutral">Neutral</option>
                    <option value="passive">Passive</option>
                </select>
            </td>
        </tr>
        <tr id="babyRow" style="display: none;">
            <td id="BabyText">Bebé:</td>
            <td>
                <select id="baby" onchange="handleBabyChange()">
                    <option value="">--Seleccionar--</option>
                    <option value="time">Tiempo</option>
                    <option value="true">Siempre</option>
                </select>
            </td>
        </tr>
        <tr id="babyTimeRow" style="display: none;">
            <td id="BabySText">Bebé (segundos):</td>
            <td><input type="number" id="babyTime" min="1"></td>
        </tr>
        <tr>
            <td>Loot Tags:</td>
            <td>
                <select id="drops" onchange="updateConditionals()">
                    <option value="">--Seleccionar--</option>
                    <option value="1">Sí</option>
                    <option value="2">No</option>
                </select>
            </td>
        </tr>
        <tr id="additionalRows" class="additional-rows" style="display: none;">
            <td>Drops items:</td>
            <td>
                <select id="additional1">
                    <option value="">--Seleccionar--</option>
                    <option value="stairs_wooden_planks">Wooden Planks Stairs</option>
                    <option value="pressure_plate_wooden">Wooden Pressure Plate</option>
                    <option value="wooden_shovel">Wooden Shovel</option>
                    <option value="wooden_sword">Wooden Sword</option>
                    <option value="wool">Wool</option>
                    <option value="backdrop_wool">Wool Backdrop</option>
                    <option value="yellow_flower">Yellow Flower</option>
                </select>
            </td>  
        </tr>
        <tr id="additionalRows2" class="additional-rows" style="display: none;">
            <td id="QuantitySText">Cantidad:</td>
            <td><input type="number" id="additional2" max="1000"></td>
        </tr>
        <tr id="additionalRows3" class="additional-rows" style="display: none;">
            <td>Bonus:</td>
            <td><input type="number" id="additional3"></td>
        </tr>
        <tr id="additionalRows4" class="additional-rows" style="display: none;">
            <td>Loot Bonus:</td>
            <td><input type="number" id="additional4"></td>
        </tr>
        <tr id="additionalRows5" class="additional-rows" style="display: none;">
            <td id="ChanceText">Oportunidad:</td>
            <td><input type="text" id="additional5" placeholder="Proximamente Disponible..." disabled></td>
        </tr>
        <tr id="additionalRows6" class="additional-rows" style="display: none;">
            <td id="VarianteText">Variante:</td>
            <td>
                <select id="additional6">
                    <option value="">--Seleccionar--</option>
                    <option value="mooshroom">Mooshroom</option>
                    <option value="cowctus">Cactus Cow</option>
                    <option value="normal">Normal</option>
                </select>
            </td>
        </tr>
        <tr id="additionalRows7" class="additional-rows" style="display: none;">
            <td id="ShearedText">¿Está esquilada?:</td>
            <td><input type="text" id="additional7" placeholder="Fuera de servicio" disabled></td>
        </tr>
        <tr id="additionalRows9" class="additional-rows" style="display: none;">
            <td id="isBabyText">¿Es bebé?:</td>
            <td>
                <select id="additional9" onchange="handleBabyChange()">
                    <option value="">--Seleccionar--</option>
                    <option value="true">Sí</option>
                    <option value="false">No</option>
                </select>
            </td>
        </tr>
        <tr id="additionalRows10" class="additional-rows" style="display: none;">
            <td>Color:</td>
            <td>
                <select id="additional10" onchange="handleColorChange()">
                    <option value="">--Seleccionar--</option>
                    <option value="red">Red</option>
                    <option value="green">Green</option>
                    <option value="blue">Blue</option>
                    <option value="brown">Brown</option>
                    <option value="cyan">Cyan</option>
                    <option value="lightblue">Lightblue</option>
                    <option value="lightgreen">Lightgreen</option>
                    <option value="magenta">Magenta</option>
                    <option value="orange">Orange</option>
                    <option value="pink">Pink</option>
                    <option value="purple">Purple</option>
                    <option value="white">White</option>
                    <option value="yellow">Yellow</option>
                    <option value="lightgray">Lightgray</option>
                    <option value="gray">Gray</option>
                    <option value="black">Black</option>
                </select>
            </td>
        </tr>
        <tr id="additionalRows11" class="additional-rows" style="display: none;">
            <td id="onFireText">¿Está en llamas?:</td>
            <td>
                <select id="additional11">
                    <option value="">--Seleccionar--</option>
                    <option value="true">Sí</option>
                    <option value="false">No</option>
                </select>
            </td>
        </tr>
        <tr id="additionalRows12" class="additional-rows" style="display: none;">
            <td id="SizeText">Tamaño:</td>
            <td>
                <select id="additional12">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                </select>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <button id="AddLootText" class="add-loot" onclick="addLoot()">Agregar Loot</button>
                <div class="loot-list" id="lootList"></div>
                <button id="CommandSummonText" onclick="generateCommand()">Generar Comando</button>
                <button id="copyButton" onclick="copyCommand()">Copiar Comando</button>
            </td>
        </tr>
    </table>
    <pre id="outputCommand">/summon </pre>

    <script>    
    
        let lootItems = [];
        let currentLanguage = 'es'; // Idioma por defecto
        
        function toggleMobileMenu() {
    const menu = document.querySelector('.menu');
    menu.classList.toggle('show');
}
        
function resetFields() {
    const inputs = document.querySelectorAll('input, select');
    inputs.forEach(input => {
        if (input.type === 'checkbox' || input.type === 'radio') {
            input.checked = false;
        } else {
            input.value = '';
        }
    });

    // Contraer las casillas desplegables
    const positionGroups = document.querySelectorAll('.position-group');
    positionGroups.forEach(group => group.style.display = 'none');

    // Limpia cualquier contenido en los divs de loot
    const lootList = document.getElementById('lootList');
    if (lootList) {
        lootList.innerHTML = '';
    }
}

function showAlert(messageKey) {
    const messages = {
        es: {
            AddLoot: "Por favor, seleccione un ítem",
            AddLootCase: "Este ítem ya ha sido agregado.",
            commandGenerated: "Por favor, seleccione un tipo de mob.",
            
        },
        en: {
            AddLoot: "Please select an item.",
            AddLootCase: "This item has already been added.",
            commandGenerated: "Please select a mob type",
        }
    };

    const message = messages[currentLanguage][messageKey];
    const alertContainer = document.getElementById('alertContainer');
    alertContainer.textContent = message;
    alertContainer.classList.add('show');

    setTimeout(() => {
        alertContainer.classList.remove('show');
        alertContainer.classList.add('hide');
        setTimeout(() => {
            alertContainer.classList.remove('hide');
        }, 300);
    }, 3000);
}

    
        function updatePositionFields() {
            const positionType = document.getElementById('positionType').value;
            const relativeFields = document.querySelectorAll('.relative-pos');
            const absoluteFields = document.querySelectorAll('.absolute-pos');
            
            relativeFields.forEach(row => row.style.display = 'none');
            absoluteFields.forEach(row => row.style.display = 'none');

            if (positionType === 'relative') {
                relativeFields.forEach(row => row.style.display = 'table-row');
            } else if (positionType === 'absolute') {
                absoluteFields.forEach(row => row.style.display = 'table-row');
            }
        }

        function updateConditionals() {
            const drops = document.getElementById('drops').value;
            const mobType = document.getElementById('mobType').value;
            const additionalRows = document.querySelectorAll('.additional-rows');

            // Resetear la visibilidad de todas las filas adicionales
            additionalRows.forEach(row => row.style.display = 'none');

            if (drops === '1') {
                document.getElementById('additionalRows').style.display = 'table-row';
                document.getElementById('additionalRows2').style.display = 'table-row';
                document.getElementById('additionalRows3').style.display = 'table-row';
                document.getElementById('additionalRows4').style.display = 'table-row';
                document.getElementById('additionalRows5').style.display = 'table-row';
                document.getElementById('additionalRows11').style.display = 'table-row';
                
                const animalMobs = ['cow', 'sheep', 'mooshroom', 'pig', 'rabbit', 'wolf', 'cowctus', 'chicken'];
                const babyRow = document.getElementById('additionalRows9');
                if (animalMobs.includes(mobType) && mobType !== 'squid' && mobType !== 'bat') {
                    babyRow.style.display = 'table-row';
                }

                if (mobType === 'cow' || mobType === 'mooshroom' || mobType === 'cowctus') {
                    document.getElementById('additionalRows6').style.display = 'table-row';
                }

                if (mobType === 'sheep') {
                    document.getElementById('additionalRows7').style.display = 'table-row';
                    additional7.disabled = true;
                }

                if (mobType === 'sheep') {
                    document.getElementById('additionalRows10').style.display = 'table-row';
                }

                if (mobType === 'slime' || mobType === 'magmacube') {
                    document.getElementById('additionalRows12').style.display = 'table-row';
                }
            }
        }

        document.getElementById('quantity').addEventListener('input', function() {
            var quantityInput = document.getElementById('quantity');
            var value = parseInt(quantityInput.value, 10);

            if (value > 20) {
                quantityInput.value = 20;
            }
            
            if (value < 1) {
                quantityInput.value = 1;
            }
        });
        document.getElementById('additional2').addEventListener('input', function() {
            var quantityInput = document.getElementById('additional2');
            var value = parseInt(quantityInput.value, 10);

            if (value > 10000) {
                quantityInput.value = 10000;
            }
            
            if (value < 1) {
                quantityInput.value = 1;
            }
        });
        document.getElementById('additional3').addEventListener('input', function() {
            var quantityInput = document.getElementById('additional3');
            var value = parseInt(quantityInput.value, 10);

            if (value > 10000) {
                quantityInput.value = 10000;
            }
            
            if (value < 1) {
                quantityInput.value = 1;
            }
        });
        document.getElementById('additional4').addEventListener('input', function() {
            var quantityInput = document.getElementById('additional4');
            var value = parseInt(quantityInput.value, 10);

            if (value > 10000) {
                quantityInput.value = 10000;
            }
            
            if (value < 1) {
                quantityInput.value = 1;
            }
        });
        document.getElementById('health').addEventListener('input', function() {
            var quantityInput = document.getElementById('health');
            var value = parseInt(quantityInput.value, 10);

            if (value > 100000) {
                quantityInput.value = 100000;
            }
            
            if (value < 1) {
                quantityInput.value = 1;
            }
        });
        document.getElementById('babyTime').addEventListener('input', function() {
            var quantityInput = document.getElementById('babyTime');
            var value = parseInt(quantityInput.value, 10);

            if (value > 86400) {
                quantityInput.value = 86400;
            }
            
            if (value < 1) {
                quantityInput.value = 1;
            }
        });

        function handleBabyChange() {
            const baby = document.getElementById('baby').value;
            const babyTimeRow = document.getElementById('babyTimeRow');
            const shearedInput = document.getElementById('additional7');

            if (baby === 'time') {
                babyTimeRow.style.display = 'table-row';
            } else {
                babyTimeRow.style.display = 'none';
            }

            if (document.getElementById('mobType').value === 'sheep' && baby === 'true') {
                shearedInput.value = '';
                shearedInput.disabled = true;
            } else {
                shearedInput.disabled = false;
            }
        }
/*
        function handleShearedChange() {
            const sheared = document.getElementById('additional7').value;
            const color = document.getElementById('additional10');
            const baby = document.getElementById('additional9');
            
            if (sheared === 'true') {
                color.value = '';
                color.disabled = true;
                baby.disabled = true;
            } else {
                color.disabled = false;
                baby.disabled = false;
            }
        }
*/
        function handleColorChange() {
            const color = document.getElementById('additional10').value;
            const sheared = document.getElementById('additional7');
            const baby = document.getElementById('additional9');

            if (color !== '') {
                sheared.value = '';
                sheared.disabled = true;
            } else {
                baby.disabled = false;
            }
            
        }
        
        function resetFields() {
            document.getElementById('quantity').value = '';
            document.getElementById('posX').value = '';
            document.getElementById('posY').value = '';
            document.getElementById('absPosX').value = '';
            document.getElementById('absPosY').value = '';
            document.getElementById('name').value = '';
            document.getElementById('health').value = '';
            document.getElementById('holding').value = '';
            document.getElementById('armor').value = '';
            document.getElementById('defaultDrops').value = '';
            document.getElementById('drops').value = '';
            document.getElementById('skin').value = '';
            document.getElementById('aggro').value = '';
            document.getElementById('charged').value = '';
            document.getElementById('baby').value = '';
            document.getElementById('babyTime').value = '';
            document.querySelectorAll('.additional-rows select, .additional-rows input').forEach(el => el.value = '');
            document.querySelectorAll('.additional-rows select, .additional-rows input').forEach(el => el.disabled = false);
            lootItems = [];
            displayLootItems();
        }

        function updateMobOptions() {
            var mobType = document.getElementById('mobType').value;
            
            if (lootItems.length > 0 || checkDataTags()) {
                if (!confirm("Cambiar de mob eliminará los datos actuales. ¿Continuar?")) {
                    return;
                }
            }
            resetFields();

            var creeperChargedRow = document.getElementById('creeperChargedRow');
            var spawnskinOptions = document.getElementById('spawnskinOptions');
            var aggroRow = document.getElementById('aggroRow');
            var handItemRow = document.getElementById('handItemRow');
            var armorRow = document.getElementById('armorRow');
            var babyRow = document.getElementById('babyRow');
            var babyTimeRow = document.getElementById('babyTimeRow');
            var defaultDropsRow = document.getElementById('defaultDropsRow');

            creeperChargedRow.style.display = 'none';
            spawnskinOptions.style.display = 'none';
            aggroRow.style.display = 'none';
            handItemRow.style.display = 'none';
            armorRow.style.display = 'none';
            babyRow.style.display = 'none';
            babyTimeRow.style.display = 'none';
            defaultDropsRow.style.display = 'table-row';

            if (mobType === 'creeper') {
                creeperChargedRow.style.display = 'table-row';
            } else if (mobType === 'spawnskin') {
                spawnskinOptions.style.display = 'table-row';
                aggroRow.style.display = 'table-row';
                armorRow.style.display = 'table-row';
                defaultDropsRow.style.display = 'none';
            } else if (mobType === 'pigman' || mobType === 'enderman') {
                handItemRow.style.display = 'table-row';
            } else if (mobType === 'zombie') {
                armorRow.style.display = 'table-row'; 
            } else if (mobType === 'bat' || mobType === 'wolf') {
                defaultDropsRow.style.display = 'none';
            }
            
            var animalMobs = ['cow', 'sheep', 'mooshroom', 'pig', 'rabbit', 'wolf', 'cowctus', 'chicken'];
            if (animalMobs.includes(mobType)) {
                babyRow.style.display = 'table-row';
            }

            // Actualizar los Loot Tags
            updateConditionals();

            // Contraer la sección de Posición cuando se cambia el tipo de mob
            document.getElementById('positionType').value = '';
            updatePositionFields();
            
            // Reset command output
            document.getElementById('outputCommand').textContent = '/summon ';
        }

        function generateCommand() {
            var mobType = document.getElementById('mobType').value;
            if (!mobType) {
                showAlert("commandGenerated");
                return;
            }

            var quantity = document.getElementById('quantity').value || 1;
            var posX = document.getElementById('posX').value;
            var posY = document.getElementById('posY').value;
            var absPosX = document.getElementById('absPosX').value;
            var absPosY = document.getElementById('absPosY').value;
            var name = document.getElementById('name').value;
            var health = document.getElementById('health').value;
            var holding = document.getElementById('holding').value;
            var armor = document.getElementById('armor').value;
            var defaultDrops = document.getElementById('defaultDrops').value;
            var drops = document.getElementById('drops').value;
            var skin = document.getElementById('skin').value;
            var aggro = document.getElementById('aggro').value;
            var charged = document.getElementById('charged').value;
            var baby = document.getElementById('baby').value;
            var babyTime = document.getElementById('babyTime').value;

            var command = `/summon ${mobType}`;
            if (quantity > 0) command += ` ${quantity}`;

            if (document.getElementById('positionType').value === 'relative') {
                command += ` ~${posX || ""} ~${posY || ""}`;
            } else if (document.getElementById('positionType').value === 'absolute') {
                command += ` ${absPosX || ""} ${absPosY || ""}`;
            } else if (checkDataTags()) {
                command += ` ~ ~`;
            }
            
            command += ` {`;

            if (name) command += `name:"${name}", `;
            if (health) command += `health:${health}, `;
            if (holding && (mobType === 'pigman' || mobType === 'enderman')) command += `holding:"${holding}", `;
            if (armor && (mobType === 'zombie' || mobType === 'spawnskin')) command += `armor:[{id:"${armor}"}], `;
            if (defaultDrops !== "" && mobType !== 'wolf') command += `defaultDrops:${defaultDrops === 'true' ? true : false}, `;

            if (drops === '1' && lootItems.length > 0) {
                command += `drops:[`;
                lootItems.forEach(item => {
                    command += `{item:{id:"${item.id}"}`;
                    if (item.quantity) command += `, quantity:${item.quantity}`;
                    if (item.bonus) command += `, bonus:${item.bonus}`;
                    if (item.lootBonus) command += `, lootBonus:${item.lootBonus}`;
                    if (item.chance) command += `, chance:${item.chance}`;
                    if (item.variant) command += `, variant:"${item.variant}"`;
                    if (item.sheared && !item.sheared.disabled) command += `, sheared:${item.sheared}`;
                    if (item.isBaby && !item.isBaby.disabled) command += `, isBaby:${item.isBaby}`;
                    if (item.color && mobType !== 'wolf') command += `, color:"${item.color}"`;
                    if (item.onFire) command += `, onFire:${item.onFire}`;
                    if (item.size) command += `, size:${item.size}`;
                    command += `}, `;
                });
                command = command.replace(/, $/, "");
                command += `], `;
            }

            if (skin && mobType === 'spawnskin') command += `skin:"${skin}", `;
            if (aggro && mobType === 'spawnskin') command += `aggro:"${aggro}", `;
            if (charged !== "") command += `charged:${charged}, `;
            if (baby === "true" && ['cow', 'sheep', 'mooshroom', 'pig', 'chicken', 'rabbit', 'wolf', 'cowctus'].includes(mobType)) command += `baby:true, `;
            if (baby === "time" && babyTime) command += `baby:${babyTime}, `;
            
            command = command.replace(/, $/, "");
            command += "}";

            document.getElementById('outputCommand').textContent = command;
        }

        function addLoot() {
            var additional1 = document.getElementById('additional1').value;
            if (!additional1) {
                showAlert("AddLoot");
                return;
            }
            if (lootItems.some(item => item.id === additional1)) {
                showAlert("AddLootCase");
                return;
            }
            var additional2 = document.getElementById('additional2').value;
            var additional3 = document.getElementById('additional3').value;
            var additional4 = document.getElementById('additional4').value;
            var additional5 = document.getElementById('additional5').value;
            var additional6 = document.getElementById('additional6').value;
            var additional7 = document.getElementById('additional7').value;
            var additional9 = document.getElementById('additional9').value;
            var additional10 = document.getElementById('additional10').value;
            var additional11 = document.getElementById('additional11').value;
            var additional12 = document.getElementById('additional12').value;

            lootItems.push({
                id: additional1,
                quantity: additional2,
                bonus: additional3,
                lootBonus: additional4,
                chance: additional5,
                variant: additional6,
                sheared: additional7,
                isBaby: additional9,
                color: additional10,
                onFire: additional11,
                size: additional12
            });

            displayLootItems();
            resetLootInputs();
        }

        function resetLootInputs() {
            document.querySelectorAll('.additional-rows select, .additional-rows input').forEach(el => el.value = '');
        }

        function displayLootItems() {
            var lootList = document.getElementById('lootList');
            lootList.innerHTML = "";
            lootItems.forEach((item, index) => {
                var div = document.createElement('div');
                div.className = "loot-item";
                div.textContent = `Ítem: ${getReadableName(item.id)}`;
                var removeBtn = document.createElement('button');
                removeBtn.textContent = "🗑️";
                removeBtn.className = "remove-loot";
                removeBtn.onclick = () => removeLoot(index);
                div.appendChild(removeBtn);
                lootList.appendChild(div);
            });
        }

        function removeLoot(index) {
            lootItems.splice(index, 1);
            displayLootItems();
        }

        function checkDataTags() {
            var name = document.getElementById('name').value;
            var health = document.getElementById('health').value;
            var holding = document.getElementById('holding').value;
            var armor = document.getElementById('armor').value;
            var defaultDrops = document.getElementById('defaultDrops').value;
            var drops = document.getElementById('drops').value;
            var skin = document.getElementById('skin').value;
            var aggro = document.getElementById('aggro').value;
            var charged = document.getElementById('charged').value;
            var baby = document.getElementById('baby').value;
            var babyTime = document.getElementById('babyTime').value;
            return name || health || holding || armor || defaultDrops || drops || skin || aggro || charged || baby || babyTime;
        }
funct
        function copyCommand() {
            var command = document.getElementById('outputCommand').textContent;
            navigator.clipboard.writeText(command).then(() => {
                var copyButton = document.getElementById('copyButton');
                copyButton.textContent = 'Copiado';
                copyButton.classList.add('success');
                setTimeout(() => {
                    copyButton.textContent = 'Copiar Comando';
                    copyButton.classList.remove('success');
                }, 2000);
            });
        }

        function getReadableName(id) {
            const mapping = {
                'stairs_wooden_planks': 'Wooden Planks Stairs',
                'pressure_plate_wooden': 'Wooden Pressure Plate',
                'wooden_shovel': 'Wooden Shovel',
                'wooden_sword': 'Wooden Sword',
                'wool': 'Wool',
                'backdrop_wool': 'Wool Backdrop',
                'yellow_flower': 'Yellow Flower',
            };
            return mapping[id] || id;
        }
        
        function toggleLanguage() {
            if (currentLanguage === 'es') {
                currentLanguage = 'en';
                document.getElementById('mobType').options[0].text = '--Select--';
                document.getElementById('TypeMobText').innerText = 'Mob Type:';
                document.getElementById('QuantityText').innerText = 'Quantity:';
                document.getElementById('PositionText').innerText = 'Position:';
                document.getElementById('PositionRelText').innerText = 'Relative Position:';
                document.getElementById('PositionAbsText').innerText = 'Absolute Position:';
                document.getElementById('NameText').innerText = 'Name:';
                document.getElementById('HealthText').innerText = 'Health:';
                document.getElementById('ItemHandText').innerText = 'Items in Hand:';
                document.getElementById('ArmorText').innerText = 'Armor:';
                document.getElementById('DropDText').innerText = 'Default Drops:';
                document.getElementById('CreeperCharText').innerText = 'Creeper Charged:';
                document.getElementById('IDText').innerText = 'Skin ID:';
                document.getElementById('AggroText').innerText = 'Behavior:';
                document.getElementById('BabyText').innerText = 'Baby:';
                document.getElementById('BabySText').innerText = 'Baby (Seconds)';
                document.getElementById('QuantitySText').innerText = 'Quantity:';
                document.getElementById('ChanceText').innerText = 'Chance:';
                document.getElementById('VarianteText').innerText = 'Variant:';
                document.getElementById('ShearedText').innerText = '¿Is it Sheared?';
                document.getElementById('isBabyText').innerText = '¿Is it baby?';
                document.getElementById('onFireText').innerText = '¿Is it on fire?';
                document.getElementById('SizeText').innerText = 'Size:';
                document.getElementById('copyButton').innerText = 'Copy Command';
                document.getElementById('AddLootText').innerText = 'Add Loot'; 
                document.getElementById('RefreshText').innerHTML = '<i class="bi bi-arrow-clockwise"></i> Refresh Boxes';
                document.getElementById('IdiomaText').innerHTML = '<i class="bi bi-translate"></i> Change Language';
                document.getElementById('CommandSummonText').innerText = 'Generate command';
                document.getElementById('positionType').options[0].text = '--Select--';
                document.getElementById('positionType').options[1].text = 'Relative';
                document.getElementById('positionType').options[2].text = 'Absolute';
                document.getElementById('holding').options[0].text = '--Select--';
                document.getElementById('defaultDrops').options[0].text = '--Select--';
                document.getElementById('defaultDrops').options[1].text = 'Yes';
                document.getElementById('charged').options[0].text = '--Select--';
                document.getElementById('charged').options[1].text = 'Yes';
                document.getElementById('aggro').options[0].text = '--Select--';
                document.getElementById('baby').options[0].text = '--Select--';
                document.getElementById('baby').options[1].text = 'Time';
                document.getElementById('baby').options[2].text = 'Forever';
                document.getElementById('drops').options[0].text = '--Select--';
                document.getElementById('drops').options[1].text = 'Yes';
                document.getElementById('additional1').options[0].text = '--Select--';
                document.getElementById('additional6').options[0].text = '--Select--';
                document.getElementById('additional9').options[0].text = '--Select--';
                document.getElementById('additional9').options[1].text = 'Yes';
                document.getElementById('additional10').options[0].text = '--Select--';
                document.getElementById('additional11').options[0].text = '--Select--';
                document.getElementById('additional11').options[1].text = 'Yes';
            } else {
                currentLanguage = 'es';
                document.getElementById('mobType').options[0].text = '--Seleccionar--';
                document.getElementById('TypeMobText').innerText = 'Tipo de Mob:';
                document.getElementById('QuantityText').innerText = 'Cantidad:';
                document.getElementById('PositionText').innerText = 'Posición:';
                document.getElementById('PositionRelText').innerText = 'Posición Relativa:';
                document.getElementById('PositionAbsText').innerText = 'Posición Absoluta:';
                document.getElementById('NameText').innerText = 'Nombre:';
                document.getElementById('HealthText').innerText = 'Salud:';
                document.getElementById('ItemHandText').innerText = 'Item en mano:';
                document.getElementById('ArmorText').innerText = 'Armadura:';
                document.getElementById('DropDText').innerText = 'Drops por defecto:';
                document.getElementById('CreeperCharText').innerText = 'Creeper Cargado:';
                document.getElementById('IDText').innerText = 'ID de la Skin:';
                document.getElementById('AggroText').innerText = 'Comportamiento:';
                document.getElementById('BabyText').innerText = 'Bebé:';
                document.getElementById('BabySText').innerText = 'Bebé (Segundos)';
                document.getElementById('QuantitySText').innerText = 'Cantidad:';
                document.getElementById('ChanceText').innerText = 'Probabilidad:';
                document.getElementById('VarianteText').innerText = 'Variante:';
                document.getElementById('ShearedText').innerText = '¿Está esquilada?';
                document.getElementById('isBabyText').innerText = '¿Es bebé?';
                document.getElementById('onFireText').innerText = '¿Está en fuego?';
                document.getElementById('SizeText').innerText = 'Tamaño:';
                document.getElementById('copyButton').innerText = 'Copiar Comando';
                document.getElementById('AddLootText').innerText = 'Agregar Loot';
                document.getElementById('CommandSummonText').innerText = 'Generar Comando';
                document.getElementById('RefreshText').innerHTML = '<i class="bi bi-arrow-clockwise"></i> Refrescar Casillas';
                document.getElementById('IdiomaText').innerHTML = '<i class="bi bi-translate"></i> Cambiar Idioma';
                document.getElementById('positionType').options[0].text = '--Seleccionar--';
                document.getElementById('positionType').options[1].text = 'Relativo';
                document.getElementById('positionType').options[2].text = 'Absoluto';
                document.getElementById('holding').options[0].text = '--Seleccionar--';
                document.getElementById('defaultDrops').options[0].text = '--Seleccionar--';
                document.getElementById('defaultDrops').options[1].text = 'Si';
                document.getElementById('charged').options[0].text = '--Seleccionar--';
                document.getElementById('charged').options[1].text = 'Si';
                document.getElementById('aggro').options[0].text = '--Seleccionar--';
                document.getElementById('baby').options[0].text = '--Seleccionar--';
                document.getElementById('baby').options[1].text = 'Tiempo';
                document.getElementById('baby').options[2].text = 'Siempre';
                document.getElementById('drops').options[0].text = '--Seleccionar--';
                document.getElementById('drops').options[1].text = 'Si';
                document.getElementById('additional1').options[0].text = '--Seleccionar--';
                document.getElementById('additional6').options[0].text = '--Seleccionar--';
                document.getElementById('additional9').options[0].text = '--Seleccionar--';
                document.getElementById('additional9').options[1].text = 'Si';
                document.getElementById('additional10').options[0].text = '--Seleccionar--';
                document.getElementById('additional11').options[0].text = '--Seleccionar--';
                document.getElementById('additional11').options[1].text = 'Si';
            }
        }
    </script>
</body>
</html>
