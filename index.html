<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        table {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
            background-color: rgba(138, 160, 153, 0.5);
            box-shadow: 3px 4px 8px rgba(0, 0, 0, 0.7);
            border-radius: 10px;
        }
        td {
            padding: 10px;
            position: relative;
        }
        input, select {
            width: calc(100% - 22px);
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }
        button {
            width: 48%;
            padding: 10px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 0.5%;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #0056b3;
        }
        button.success {
            background-color: #28a745;
        }
        button.success:hover {
            background-color: #218838;
        }
        pre {
            background-color: #f8f9fa;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 3px 4px 8px rgba(0, 0, 0, 0.7);
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-x: auto;
            max-width: 480px;
            margin: auto;
            margin-top: 12px;
        }
        .tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(10%) translateY(50px);
            background-color: #333;
            color: #fff;
            padding: 8px;
            border-radius: 5px;
            white-space: nowrap;
            display: none;
            font-size: 14px;
            z-index: 10;
            width: 250px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
            text-align: center;
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-x: auto;
        }
        td:hover .tooltip {
            display: block;
        }
        .question-mark {
            cursor: pointer;
            font-weight: bold;
            color: #007BFF;
            margin-left: 5px;
            position: relative;
        }
        .position-group {
            display: flex;
            gap: 10px;
        }
    </style>
</head>
<body>
    <table>
        <tr>
            <td>Tipo de Mob:</td>
            <td>
                <select id="mobType" onchange="updateMobOptions()">
                    <option value="">--Seleccionar--</option>
                    <option value="zombie">Zombie</option>
                    <option value="spawnskin">Spawnskin</option>
                    <option value="skeleton">Skeleton</option>
                    <option value="creeper">Creeper</option>
                    <option value="spider">Spider</option>
                    <option value="enderman">Enderman</option>
                    <option value="blaze">Blaze</option>
                    <option value="ghast">Ghast</option>
                    <option value="magmacube">Magma Cube</option>
                    <option value="slime">Slime</option>
                    <option value="enderdragon">Ender Dragon</option>
                    <option value="nethereye">Nethereye</option>
                    <option value="cow">Cow</option>
                    <option value="sheep">Sheep</option>
                    <option value="mooshroom">Mooshroom</option>
                    <option value="pig">Pig</option>
                    <option value="squid">Squid</option>
                    <option value="bat">Bat</option>
                    <option value="chicken">Chicken</option>
                    <option value="rabbit">Rabbit</option>
                    <option value="wolf">Wolf</option>
                    <option value="pigman">Zombie Pigman</option>
                    <option value="snowgolem">Snow Golem</option>
                    <option value="cowctus">Cactus Cow</option>
                </select>
            </td>
        </tr>
        <tr>
            <td>Cantidad:</td>
            <td><input type="number" id="quantity" max="20"></td>
        </tr>
        <tr>
            <td>Posición:</td>
            <td>
                <select id="positionType" onchange="updatePositionFields()">
                    <option value="">--Seleccionar--</option>
                    <option value="relative">Relativa</option>
                    <option value="absolute">Absoluta</option>
                </select>
            </td>
        </tr>
        
        <tr class="relative-pos position-group" style="display:none;">
            <td>Posición Relativa:</td>
            <td>
                <input type="number" id="posX" placeholder="Pos~X" style="width: 45%; display: inline-block; margin-right: 5%;">
                <input type="number" id="posY" placeholder="Pos~Y" style="width: 45%; display: inline-block;">
            </td>
        </tr>
        <tr class="absolute-pos position-group" style="display:none;">
            <td>Posición Absoluta:</td>
            <td>
                <input type="number" id="absPosX" placeholder="Pos X" style="width: 45%; display: inline-block; margin-right: 5%;">
                <input type="number" id="absPosY" placeholder="Pos Y" style="width: 45%; display: inline-block;">
            </td>
        </tr>
        <tr>
            <td>Nombre:</td>
            <td><input type="text" id="name"></td>
        </tr>
        <tr>
            <td>Salud:</td>
            <td><input type="number" id="health" min="1"></td>
        </tr>
        <tr id="handItemRow" style="display: none;">
            <td>Item en mano:</td>
            <td>
               <select id="holding">
                   <option value="">--Seleccionar--</option>
                   <option value="stairs_wooden_planks">Wooden Planks Stairs</option>
                   <option value="pressure_plate_wooden">Wooden Pressure Plate</option>
                   <option value="wooden_shovel">Wooden Shovel</option>
                   <option value="wooden_sword">Wooden Sword</option>
                   <option value="wool">Wool</option>
                   <option value="backdrop_wool">Wool Backdrop</option>
                   <option value="yellow_flower">Yellow Flower</option>
                </select>
            </td>  
        </tr>
        <tr id="armorRow" style="display: none;">
            <td>Armadura:</td>
            <td><input type="text" id="armor" placeholder="Próximamente disponible" disabled></td>
        </tr>
        <tr id="defaultDropsRow">
            <td>Drops por defecto:</td>
            <td>
                <select id="defaultDrops">
                    <option value="">--Seleccionar--</option>
                    <option value="true">Sí</option>
                    <option value="false">No</option>
                </select>
            </td>
        </tr>
        <tr id="creeperChargedRow" style="display: none;">
            <td>Creeper Cargado:</td>
            <td>
                <select id="charged">
                    <option value="">--Seleccionar--</option>
                    <option value="1">Sí</option>
                    <option value="0">No</option>
                </select>
            </td>
        </tr>
        <tr id="spawnskinOptions" style="display: none;">
            <td>ID de la Skin:</td>
            <td><input type="text" id="skin"></td>
        </tr>
        <tr id="aggroRow" style="display: none;">
            <td>Hostilidad:</td>
            <td>
                <select id="aggro">
                    <option value="">--Seleccionar--</option>
                    <option value="hostile">Hostile</option>
                    <option value="neutral">Neutral</option>
                    <option value="passive">Passive</option>
                </select>
            </td>
        </tr>
        <tr id="babyRow" style="display: none;">
            <td>Bebé:</td>
            <td>
                <select id="baby" onchange="handleBabyChange()">
                    <option value="">--Seleccionar--</option>
                    <option value="time">Tiempo</option>
                    <option value="true">Siempre</option>
                </select>
            </td>
        </tr>
        <tr id="babyTimeRow" style="display: none;">
            <td>Bebé (segundos):</td>
            <td><input type="number" id="babyTime" min="1"></td>
        </tr>
        <tr>
            <td>Loot Tags:</td>
            <td>
                <select id="drops" onchange="updateConditionals()">
                    <option value="">--Seleccionar--</option>
                    <option value="1">Sí</option>
                    <option value="2">No</option>
                </select>
            </td>
        </tr>
        <tr id="additionalRows" class="additional-rows" style="display: none;">
            <td>Drops items:</td>
            <td>
                <select id="additional1">
                    <option value="">--Seleccionar--</option>
                    <option value="stairs_wooden_planks">Wooden Planks Stairs</option>
                    <option value="pressure_plate_wooden">Wooden Pressure Plate</option>
                    <option value="wooden_shovel">Wooden Shovel</option>
                    <option value="wooden_sword">Wooden Sword</option>
                    <option value="wool">Wool</option>
                    <option value="backdrop_wool">Wool Backdrop</option>
                    <option value="yellow_flower">Yellow Flower</option>
                </select>
            </td>  
        </tr>
        <tr id="additionalRows2" class="additional-rows" style="display: none;">
            <td>Cantidad:</td>
            <td><input type="number" id="additional2" max="1000"></td>
        </tr>
        <tr id="additionalRows3" class="additional-rows" style="display: none;">
            <td>Bonus:</td>
            <td><input type="number" id="additional3"></td>
        </tr>
        <tr id="additionalRows4" class="additional-rows" style="display: none;">
            <td>Loot Bonus:</td>
            <td><input type="number" id="additional4"></td>
        </tr>
        <tr id="additionalRows5" class="additional-rows" style="display: none;">
            <td>Oportunidad:</td>
            <td><input type="number" id="additional5"></td>
        </tr>
        <tr id="additionalRows6" class="additional-rows" style="display: none;">
            <td>Variante:</td>
            <td>
                <select id="additional6">
                    <option value="">--Seleccionar--</option>
                    <option value="mooshroom">Mooshroom</option>
                    <option value="cowctus">Cactus Cow</option>
                    <option value="normal">Normal</option>
                </select>
            </td>
        </tr>
        <tr id="additionalRows7" class="additional-rows" style="display: none;">
            <td>¿Está esquilada?:</td>
            <td>
                <select id="additional7" onchange="handleShearedChange()">
                    <option value="">--Seleccionar--</option>
                    <option value="true">Sí</option>
                    <option value="false">No</option>
                </select>
            </td>
        </tr>
        <tr id="additionalRows9" class="additional-rows" style="display: none;">
            <td>¿Es bebé?:</td>
            <td>
                <select id="additional9" onchange="handleBabyChange()">
                    <option value="">--Seleccionar--</option>
                    <option value="true">Sí</option>
                    <option value="false">No</option>
                </select>
            </td>
        </tr>
        <tr id="additionalRows10" class="additional-rows" style="display: none;">
            <td>Color:</td>
            <td>
                <select id="additional10" onchange="handleColorChange()">
                    <option value="">--Seleccionar--</option>
                    <option value="red">Red</option>
                    <option value="green">Green</option>
                    <option value="blue">Blue</option>
                    <option value="brown">Brown</option>
                    <option value="cyan">Cyan</option>
                    <option value="lightblue">Lightblue</option>
                    <option value="lightgreen">Lightgreen</option>
                    <option value="magenta">Magenta</option>
                    <option value="orange">Orange</option>
                    <option value="pink">Pink</option>
                    <option value="purple">Purple</option>
                    <option value="white">White</option>
                    <option value="yellow">Yellow</option>
                    <option value="lightgray">Lightgray</option>
                    <option value="gray">Gray</option>
                    <option value="black">Black</option>
                    <option value="rainbow">Rainbow</option>
                </select>
            </td>
        </tr>
        <tr id="additionalRows11" class="additional-rows" style="display: none;">
            <td>¿Está en llamas?:</td>
            <td>
                <select id="additional11">
                    <option value="">--Seleccionar--</option>
                    <option value="true">Sí</option>
                    <option value="false">No</option>
                </select>
            </td>
        </tr>
        <tr id="additionalRows12" class="additional-rows" style="display: none;">
            <td>Tamaño:</td>
            <td>
                <select id="additional12">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                </select>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <button onclick="generateCommand()">Generar Comando</button>
                <button id="copyButton" onclick="copyCommand()">Copiar Comando</button>
            </td>
        </tr>
    </table>
    <pre id="outputCommand">/summon </pre>

    <script>
        function updatePositionFields() {
            const positionType = document.getElementById('positionType').value;
            const relativeFields = document.querySelectorAll('.relative-pos');
            const absoluteFields = document.querySelectorAll('.absolute-pos');
            
            relativeFields.forEach(row => row.style.display = 'none');
            absoluteFields.forEach(row => row.style.display = 'none');

            if (positionType === 'relative') {
                relativeFields.forEach(row => row.style.display = 'table-row');
            } else if (positionType === 'absolute') {
                absoluteFields.forEach(row => row.style.display = 'table-row');
            }
        }

        function updateConditionals() {
            const drops = document.getElementById('drops').value;
            const mobType = document.getElementById('mobType').value;
            const additionalRows = document.querySelectorAll('.additional-rows');

            // Resetear la visibilidad de todas las filas adicionales
            additionalRows.forEach(row => row.style.display = 'none');

            if (drops === '1') {
                document.getElementById('additionalRows').style.display = 'table-row';
                document.getElementById('additionalRows2').style.display = 'table-row';
                document.getElementById('additionalRows3').style.display = 'table-row';
                document.getElementById('additionalRows4').style.display = 'table-row';
                document.getElementById('additionalRows5').style.display = 'table-row';
                document.getElementById('additionalRows11').style.display = 'table-row';
                
                const animalMobs = ['cow', 'sheep', 'mooshroom', 'pig', 'rabbit', 'wolf', 'cowctus', 'chicken'];
                const babyRow = document.getElementById('additionalRows9');
                if (animalMobs.includes(mobType) && mobType !== 'squid' && mobType !== 'bat') {
                    babyRow.style.display = 'table-row';
                }

                if (mobType === 'cow' || mobType === 'mooshroom' || mobType === 'cowctus') {
                    document.getElementById('additionalRows6').style.display = 'table-row';
                }

                if (mobType === 'sheep') {
                    document.getElementById('additionalRows7').style.display = 'table-row';
                }

                if (mobType === 'sheep') {
                    document.getElementById('additionalRows10').style.display = 'table-row';
                }

                if (mobType === 'slime' || mobType === 'magmacube') {
                    document.getElementById('additionalRows12').style.display = 'table-row';
                }
            }
        }

        document.getElementById('quantity').addEventListener('input', function() {
            var quantityInput = document.getElementById('quantity');
            var value = parseInt(quantityInput.value, 10);

            if (value > 20) {
                quantityInput.value = 20;
            }
        });
        document.getElementById('additional2').addEventListener('input', function() {
            var quantityInput = document.getElementById('additional2');
            var value = parseInt(quantityInput.value, 10);

            if (value > 1000) {
                quantityInput.value = 1000;
            }
        });

        function handleBabyChange() {
            const baby = document.getElementById('baby').value;
            const mobType = document.getElementById('mobType').value;
            const sheared = document.getElementById('additional7');
            const isBaby = document.getElementById('additional9');

            if (mobType === 'sheep' && baby === 'true') {
                sheared.value = '';
                sheared.disabled = true;
            } else {
                sheared.disabled = false;
            }
        }
        
        function handleBabyChange() {
            const baby = document.getElementById('baby').value;
            const babyTimeRow = document.getElementById('babyTimeRow');

            if (baby === 'time') {
                babyTimeRow.style.display = 'table-row';
            } else {
                babyTimeRow.style.display = 'none';
            }
        }

        function handleShearedChange() {
            const sheared = document.getElementById('additional7').value;
            const color = document.getElementById('additional10');
            const baby = document.getElementById('additional9');
            
            if (sheared === 'true') {
                color.value = '';
                color.disabled = true;
                baby.disabled = true;
            } else {
                color.disabled = false;
                baby.disabled = false;
            }
        }

        function handleColorChange() {
            const color = document.getElementById('additional10').value;
            const sheared = document.getElementById('additional7');
            const baby = document.getElementById('additional9');

            if (color !== '') {
                sheared.value = '';
                sheared.disabled = true;
            } else {
                sheared.disabled = false;
                baby.disabled = false;
            }
        }
        
        function resetFields() {
            document.getElementById('quantity').value = '';
            document.getElementById('posX').value = '';
            document.getElementById('posY').value = '';
            document.getElementById('absPosX').value = '';
            document.getElementById('absPosY').value = '';
            document.getElementById('name').value = '';
            document.getElementById('health').value = '';
            document.getElementById('holding').value = '';
            document.getElementById('armor').value = '';
            document.getElementById('defaultDrops').value = '';
            document.getElementById('drops').value = '';
            document.getElementById('skin').value = '';
            document.getElementById('aggro').value = '';
            document.getElementById('charged').value = '';
            document.getElementById('baby').value = '';
            document.getElementById('babyTime').value = '';
            document.querySelectorAll('.additional-rows select, .additional-rows input').forEach(el => el.value = '');
            document.querySelectorAll('.additional-rows select, .additional-rows input').forEach(el => el.disabled = false);
        }

        function updateMobOptions() {
            var mobType = document.getElementById('mobType').value;
            
            resetFields();

            var creeperChargedRow = document.getElementById('creeperChargedRow');
            var spawnskinOptions = document.getElementById('spawnskinOptions');
            var aggroRow = document.getElementById('aggroRow');
            var handItemRow = document.getElementById('handItemRow');
            var armorRow = document.getElementById('armorRow');
            var babyRow = document.getElementById('babyRow');
            var defaultDropsRow = document.getElementById('defaultDropsRow');

            creeperChargedRow.style.display = 'none';
            spawnskinOptions.style.display = 'none';
            aggroRow.style.display = 'none';
            handItemRow.style.display = 'none';
            armorRow.style.display = 'none';
            babyRow.style.display = 'none';
            defaultDropsRow.style.display = 'table-row';

            if (mobType === 'creeper') {
                creeperChargedRow.style.display = 'table-row';
            } else if (mobType === 'spawnskin') {
                spawnskinOptions.style.display = 'table-row';
                aggroRow.style.display = 'table-row';
                armorRow.style.display = 'table-row';
                defaultDropsRow.style.display = 'none';
            } else if (mobType === 'pigman' || mobType === 'enderman') {
                handItemRow.style.display = 'table-row';
            } else if (mobType === 'zombie') {
                armorRow.style.display = 'table-row'; 
            } else if (mobType === 'bat' || mobType === 'wolf') {
                defaultDropsRow.style.display = 'none';
            }
            
            var animalMobs = ['cow', 'sheep', 'mooshroom', 'pig', 'rabbit', 'wolf', 'cowctus', 'chicken'];
            if (animalMobs.includes(mobType)) {
                babyRow.style.display = 'table-row';
            }

            // Actualizar los Loot Tags
            updateConditionals();

            // Contraer la sección de Posición cuando se cambia el tipo de mob
            document.getElementById('positionType').value = '';
            updatePositionFields();
        }

        function generateCommand() {
            var mobType = document.getElementById('mobType').value;
            var quantity = document.getElementById('quantity').value || 1;
            var posX = document.getElementById('posX').value;
            var posY = document.getElementById('posY').value;
            var absPosX = document.getElementById('absPosX').value;
            var absPosY = document.getElementById('absPosY').value;
            var name = document.getElementById('name').value;
            var health = document.getElementById('health').value;
            var holding = document.getElementById('holding').value;
            var armor = document.getElementById('armor').value;
            var defaultDrops = document.getElementById('defaultDrops').value;
            var drops = document.getElementById('drops').value;
            var skin = document.getElementById('skin').value;
            var aggro = document.getElementById('aggro').value;
            var charged = document.getElementById('charged').value;
            var baby = document.getElementById('baby').value;
            var babyTime = document.getElementById('babyTime').value;
            var additional1 = document.getElementById('additional1').value;
            var additional2 = document.getElementById('additional2').value;
            var additional3 = document.getElementById('additional3').value;
            var additional4 = document.getElementById('additional4').value;
            var additional5 = document.getElementById('additional5').value;
            var additional6 = document.getElementById('additional6').value;
            var additional7 = document.getElementById('additional7').value;
            var additional9 = document.getElementById('additional9').value;
            var additional10 = document.getElementById('additional10').value;
            var additional11 = document.getElementById('additional11').value;
            var additional12 = document.getElementById('additional12').value;

            var command = `/summon ${mobType}`;
            if (quantity > 0) command += ` ${quantity}`;

            if (document.getElementById('positionType').value === 'relative') {
                command += ` ~${posX || ""} ~${posY || ""}`;
            } else if (document.getElementById('positionType').value === 'absolute') {
                command += ` ${absPosX || ""} ${absPosY || ""}`;
            }
            
            command += ` {`;

            if (name) command += `name:"${name}", `;
            if (health) command += `health:${health}, `;
            if (holding && (mobType === 'pigman' || mobType === 'enderman')) command += `holding:"${holding}", `;
            if (armor && (mobType === 'zombie' || mobType === 'spawnskin')) command += `armor:[{id:"${armor}"}], `;
            if (defaultDrops !== "" && mobType !== 'wolf') command += `defaultDrops:${defaultDrops === 'true' ? true : false}, `;

            if (drops === '1') {
                command += `drops:[{`;
                if (additional1) command += `item:{id:"${additional1}"}, `;
                if (additional2) command += `quantity:${additional2}, `;
                if (additional3) command += `bonus:${additional3}, `;
                if (additional4) command += `lootBonus:${additional4}, `;
                if (additional5) command += `chance:${additional5}, `;
                if (additional6) command += `variant:"${additional6}", `;
                if (additional7 && !document.getElementById('additional7').disabled) command += `sheared:${additional7 === 'true' ? 1 : 0}, `;
                if (additional9 && !document.getElementById('additional9').disabled) command += `isBaby:${additional9 === 'true' ? 1 : 0}, `;
                if (additional10 && mobType !== 'wolf') command += `color:"${additional10}", `;
                if (additional11) command += `onFire:${additional11 === 'true' ? true : false}, `;
                if (additional12) command += `size:${additional12}, `;
                command = command.replace(/, $/, "");
                command += `}], `;
            }

            if (skin && mobType === 'spawnskin') command += `skin:"${skin}", `;
            if (aggro && mobType === 'spawnskin') command += `aggro:"${aggro}", `;
            if (charged !== "") command += `charged:${charged}, `;
            if (baby === "true" && ['cow', 'sheep', 'mooshroom', 'pig', 'chicken', 'rabbit', 'wolf', 'cowctus'].includes(mobType)) command += `baby:true, `;
            if (baby === "time" && babyTime) command += `babyTime:${babyTime}, `;
            
            command = command.replace(/, $/, "");
            command += "}";

            document.getElementById('outputCommand').textContent = command;
        }

        function clearFields() {
            document.querySelectorAll('input, select').forEach(el => el.value = '');
            document.querySelectorAll('.additional-rows').forEach(row => row.style.display = 'none');
            document.getElementById('output').textContent = '';
        }

        function copyCommand() {
            var command = document.getElementById('outputCommand').textContent;
            navigator.clipboard.writeText(command).then(() => {
                var copyButton = document.getElementById('copyButton');
                copyButton.textContent = 'Copiado';
                copyButton.classList.add('success');
                setTimeout(() => {
                    copyButton.textContent = 'Copiar Comando';
                    copyButton.classList.remove('success');
                }, 2000);
            });
        }
    </script>
</body>
</html>
